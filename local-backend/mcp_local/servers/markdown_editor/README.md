# Markdown Editor MCP Server

A FastMCP server that provides tools for creating, editing, and converting Markdown documents with live preview capabilities and built-in chart generation.

## Features

- Create and edit Markdown documents
- Convert between Markdown and other formats (PDF, DOCX, HTML)
- Live preview of Markdown documents
- **Built-in chart generation using QuickChart.io API**
- **Shared workspace integration for multi-agent coordination**
- Create documents with embedded charts in a single operation
- Integration with other MCP servers

## Installation

1. Install the required dependencies:

```bash
pip install -r requirements.txt
```

2. Install Pandoc (required for document conversion):
   - On macOS: `brew install pandoc`
   - On Ubuntu/Debian: `apt-get install pandoc`
   - On Windows: Download from https://pandoc.org/installing.html

## Usage

### Starting the Server

```bash
python server.py
```

### Available Tools

#### Document Management
- `create_document`: Create a new Markdown document with content
- `edit_document`: Edit an existing Markdown document with operations
- `append_content`: Append content to a Markdown document
- `add_image`: Add an image to a Markdown document

#### Chart Generation (New!)
- `create_chart`: Create a chart using QuickChart.io API and save to shared workspace
- `create_chart_from_data`: Create a chart from structured data (simplified interface)
- `get_chart_template`: Get template configurations for different chart types
- `create_document_with_chart`: Create a document with embedded chart in one operation

#### Conversion & Preview
- `convert_to_md`: Convert a document (DOCX, PDF) to Markdown
- `convert_from_md`: Convert a Markdown document to another format
- `preview`: Generate a preview of a Markdown document
- `live_preview`: Start a live preview server for a Markdown document

#### Legacy Integration
- `add_chart`: Add a chart from external chartgenerator server to a Markdown document
- `extract_table`: Extract tabular data from a Markdown document

### Integration with Other Servers

This server is designed to work seamlessly with other MCP servers:

- **chartgenerator**: Include charts generated by the chartgenerator in your Markdown documents
- **writer**: Use the writer agent to generate content for your Markdown documents
- **formatter**: Format and structure your Markdown content
- **styleenforcer**: Ensure consistent style in your Markdown documents

## Examples

### Create a Document with Chart (Recommended)

```python
# Create a complete document with embedded chart in one operation
result = create_document_with_chart(
    content="# Sales Report Q4 2023\n\nOur performance this quarter:\n\n{{CHART}}\n\nGreat results!",
    chart_data={
        "labels": ["Q1", "Q2", "Q3", "Q4"],
        "datasets": [{
            "label": "Revenue (Millions)",
            "data": [45, 52, 48, 61],
            "backgroundColor": ["#FF6384", "#36A2EB", "#FFCE56", "#4BC0C0"]
        }]
    },
    chart_type="bar",
    chart_title="Quarterly Revenue Growth"
)
```

### Create Charts Separately

```python
# Create a chart from simple data
chart_result = create_chart_from_data(
    chart_type="pie",
    data={
        "labels": ["Desktop", "Mobile", "Tablet"],
        "datasets": [{"data": [65, 30, 5]}]
    },
    title="Traffic by Device Type"
)

# Or use complete Chart.js configuration
chart_result = create_chart({
    "type": "line",
    "data": {
        "labels": ["Jan", "Feb", "Mar", "Apr"],
        "datasets": [{
            "label": "Users",
            "data": [100, 150, 120, 180],
            "borderColor": "#36A2EB"
        }]
    }
})
```

### Get Chart Templates

```python
# Get a template for customization
template = get_chart_template("doughnut")
# Modify template as needed
template["data"]["labels"] = ["Category A", "Category B"]
template["data"]["datasets"][0]["data"] = [75, 25]

# Create chart from modified template
chart_result = create_chart(template)
```

### Traditional Document Operations

```python
# Create a new document
result = create_document(
    content="# My Document\n\nThis is a test document.",
    file_path="/path/to/document.md"
)

# Convert document to PDF
result = convert_from_md(
    markdown_file="/path/to/document.md",
    output_format="pdf",
    options={"toc": True}
)
```

## License

MIT 